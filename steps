
export EDITOR=nano
mkdir ~/Documents/computer
mkdir ~/Documents/computer/scripts/
mkdir ~/Documents/computer/scripts/rclone/
cd ~/Documents/computer/scripts/rclone/
touch ~/Documents/computer/scripts/rclone/rclone

nano ~/Documents/computer/scripts/rclone/rclone

#!/bin/bash
#!/usr/local/bin/rclone
if pidof -o %PPID -x "rclone"; then
exit 1
fi
/usr/local/bin/rclone move seedbox:downloads/complete/ /Volumes/"Storage 2TB"/"Seedbox rclone"/ --drive-chunk-size 64M --buffer-size 256M --bwlimit 96000 --checkers 16 --transfers 8 --delete-empty-src-dirs --ignore-existing --exclude _unpack/** -u -v --log-file ~/etc/log/rclone-cron.log
exit

chmod a+x ~/Documents/computer/scripts/rclone/rclone

mkdir ~/Documents/computer/scripts/rclone/log

touch ~/Documents/computer/scripts/rclone/log/log-rotate.sh
nano ~/Documents/computer/scripts/rclone/log/log-rotate.sh

#!/bin/bash

logdir='~/Documents/computer/scripts/rclone/log/'

cd $logdir
/usr/bin/test -f rclone-cron.log.7 && /bin/rm rclone-cron.log.7
/usr/bin/test -f rclone-cron.log.6 && /bin/mv rclone-cron.log.6 rclone-cron.log.7
/usr/bin/test -f rclone-cron.log.5 && /bin/mv rclone-cron.log.5 rclone-cron.log.6
/usr/bin/test -f rclone-cron.log.4 && /bin/mv rclone-cron.log.4 rclone-cron.log.5
/usr/bin/test -f rclone-cron.log.3 && /bin/mv rclone-cron.log.3 rclone-cron.log.4
/usr/bin/test -f rclone-cron.log.2 && /bin/mv rclone-cron.log.2 rclone-cron.log.3
/usr/bin/test -f rclone-cron.log.1 && /bin/mv rclone-cron.log.1 rclone-cron.log.2
/usr/bin/test -f rclone-cron.log && /bin/mv rclone-cron.log rclone-cron.log.1
chmod a+x ~/Documents/computer/scripts/rclone/log/log-rotate.sh

crontab -e
*/5 * * * * /bin/bash ~/Documents/computer/scripts/rclone/rclone
57 23 * * * /bin/bash ~/Documents/computer/scripts/rclone/log/log-rotate.sh

